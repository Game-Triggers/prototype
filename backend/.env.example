# ============================================================================
# GameTriggers Backend - Environment Configuration
# ============================================================================
# This file contains environment variables needed for the independent NestJS backend

# -----------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3001
LOG_LEVEL=debug

# Application Info
APP_NAME=GameTriggers Backend
APP_VERSION=1.0.0

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# MongoDB Connection
MONGODB_URI=mongodb://localhost:27017/gametriggers

# MongoDB Options (optional)
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=1
MONGODB_MAX_IDLE_TIME_MS=30000

# -----------------------------------------------------------------------------
# SECURITY & AUTHENTICATION
# -----------------------------------------------------------------------------
# JWT Configuration - MUST match frontend NEXTAUTH_SECRET
JWT_SECRET=your_secure_jwt_secret_here_minimum_32_chars
JWT_EXPIRATION=1d
JWT_REFRESH_SECRET=your_secure_refresh_secret_here_minimum_32_chars
JWT_REFRESH_EXPIRATION=7d
JWT_ISSUER=gametriggers-backend

# CORS Configuration
FRONTEND_URL=http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# -----------------------------------------------------------------------------
# EXTERNAL INTEGRATIONS
# -----------------------------------------------------------------------------

# OAuth Providers
TWITCH_CLIENT_ID=your_twitch_client_id
TWITCH_CLIENT_SECRET=your_twitch_client_secret

GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

YOUTUBE_CLIENT_ID=your_youtube_client_id
YOUTUBE_CLIENT_SECRET=your_youtube_client_secret

# Payment Gateways
PREFERRED_PAYMENT_GATEWAY=juspay

# Juspay Integration
JUSPAY_MERCHANT_ID=your_merchant_id
JUSPAY_API_KEY=your_juspay_api_key
JUSPAY_ENVIRONMENT=sandbox
JUSPAY_WEBHOOK_SECRET=your_webhook_secret
JUSPAY_RETURN_URL=http://localhost:3000/dashboard/wallet

# Stripe Integration (Alternative)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# PayPal Integration (Alternative)
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_ENVIRONMENT=sandbox

# -----------------------------------------------------------------------------
# BUSINESS CONFIGURATION
# -----------------------------------------------------------------------------

# Currency Configuration
PLATFORM_CURRENCY=INR

# Tax Configuration (India)
TDS_THRESHOLD=40000
TDS_RATE=10
GST_RATE=18

# File Upload Configuration
UPLOAD_DIR=uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,video/mp4

# -----------------------------------------------------------------------------
# RATE LIMITING & THROTTLING
# -----------------------------------------------------------------------------
API_RATE_LIMIT_TTL=60
API_RATE_LIMIT_MAX=100

# -----------------------------------------------------------------------------
# MONITORING & OBSERVABILITY
# -----------------------------------------------------------------------------
ENABLE_SWAGGER=true
SWAGGER_PATH=api/docs

# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=health

# -----------------------------------------------------------------------------
# EMAIL CONFIGURATION (Optional)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
EMAIL_FROM=noreply@gametriggers.com

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION (Optional - for caching/sessions)
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# -----------------------------------------------------------------------------
# WEBHOOK ENDPOINTS
# -----------------------------------------------------------------------------
JUSPAY_WEBHOOK_URL=http://localhost:3001/api/v1/webhooks/juspay
STRIPE_WEBHOOK_URL=http://localhost:3001/api/v1/webhooks/stripe
PAYPAL_WEBHOOK_URL=http://localhost:3001/api/v1/webhooks/paypal
